# ğŸ§  è‹±æ–‡å°ç­”éŠæˆ²è¦æ ¼æ›¸

## ğŸ¯ éŠæˆ²ç›®æ¨™

é€éäº’å‹•å¼éŠæˆ²æå‡ç©å®¶è‹±æ–‡ç†è§£åŠ›èˆ‡å¥æ§‹è¾¨è­˜èƒ½åŠ›ï¼Œé€éåˆ†é¡ã€é¡Œå‹è¨­è¨ˆé€æ­¥ç”±æ·ºå…¥æ·±å»ºç«‹è‹±æ–‡å°ç­”å¯¦åŠ›ã€‚

---

## ğŸ“ é¡Œç›®åˆ†é¡ï¼ˆCategoriesï¼‰

* æ—¥å¸¸ç”Ÿæ´»ï¼ˆDaily Conversationï¼‰
* æ—…éŠèˆ‡äº¤é€šï¼ˆTravel & Transportï¼‰
* å•†æ¥­è‹±èªï¼ˆBusiness Englishï¼‰
* æ ¡åœ’ç”Ÿæ´»ï¼ˆCampus Lifeï¼‰
* å¥åº·èˆ‡é†«ç™‚ï¼ˆHealth & Medicalï¼‰

> âœ… ç©å®¶å¯ä»¥è‡ªè¡Œé¸æ“‡é¡Œç›®åˆ†é¡ï¼Œä¹Ÿå¯è¤‡é¸å¤šå€‹åˆ†é¡æ··åˆå‡ºé¡Œ âœ… é¡Œç›®é †åºå¯éš¨æ©Ÿæ‰“äº‚ï¼ˆshuffleï¼‰ âœ… ç©å®¶å¯è‡ªè¨‚é¡Œç›®æ•¸é‡ï¼ˆä¾‹å¦‚ï¼šå‡ºé¡Œ 5 é¡Œã€10 é¡Œï¼‰

---

## ğŸ§© é¡Œå‹è¨­è¨ˆï¼ˆQuestion Typesï¼‰

### 1. é¸æ“‡é¡Œï¼ˆMultiple Choiceï¼‰

* **è¦å‰‡ï¼š** æ¯é¡Œé¡¯ç¤ºä¸€å¥è©±ï¼Œå…¶ä¸­æœ‰ä¸€å€‹ç©ºæ ¼ï¼Œæä¾› 4 å€‹é¸é …è®“ä½¿ç”¨è€…é¸å‡ºæ­£ç¢ºç­”æ¡ˆã€‚

* **ç¯„ä¾‹ï¼š**

  > I \_\_\_ to the gym every morning.
  >
  > a) go
  > b) going
  > c) gone
  > d) goes

* **ç­”æ¡ˆæ ¼å¼ï¼š**

  ```json
  {
    "type": "multiple_choice",
    "question": "I ___ to the gym every morning.",
    "options": ["go", "going", "gone", "goes"],
    "answer": "go"
  }
  ```

---

### 2. å¤šé‡å¡«ç©ºé¡Œï¼ˆMulti-Fill-in-the-Blankï¼‰

* **è¦å‰‡ï¼š** é¡Œç›®ç‚ºä¸€å®Œæ•´å¥å­ï¼Œæœ‰ 2\~3 å€‹ç©ºæ ¼ï¼Œæä¾› 5 å€‹å–®å­—é¸é …ï¼Œä½¿ç”¨è€…éœ€å¾ä¸­é¸å‡ºæ­£ç¢ºçš„ 3 å€‹ä¾é †åºå¡«å…¥ã€‚

* **ç‰¹é»ï¼š** æª¢æ¸¬èªæ„é‚è¼¯èˆ‡èªæ³•çµæ§‹ã€‚

* **ç¯„ä¾‹ï¼š**

  > I usually \_\_\_ up at 7 AM, then I \_\_\_ breakfast and \_\_\_ to work.
  >
  > é¸é …ï¼š \["go", "eat", "wake", "drink", "run"]

* **ç­”æ¡ˆæ ¼å¼ï¼š**

  ```json
  {
    "type": "multi_blank",
    "question": "I usually ___ up at 7 AM, then I ___ breakfast and ___ to work.",
    "options": ["go", "eat", "wake", "drink", "run"],
    "answers": ["wake", "eat", "go"]
  }
  ```

---

## ğŸ‘¥ å¤šäººäº’å‹•åŠŸèƒ½ï¼ˆMultiplayer Supportï¼‰

* **ä¸Šç·šå°ç­”æ©Ÿåˆ¶**ï¼š

  * ç©å®¶å¯ç™»å…¥å¾ŒåŠ å…¥éŠæˆ²æˆ¿é–“ï¼ˆRoomï¼‰é€²è¡ŒåŒæ­¥ä½œç­”ã€‚
  * æ¯é¡Œå€’æ•¸è¨ˆæ™‚ä¸¦å³æ™‚é¡¯ç¤ºå…¶ä»–ç©å®¶ç­”é¡Œé€²åº¦ã€‚
  * å®Œæˆå¾Œé¡¯ç¤ºæ’è¡Œæ¦œèˆ‡æ¯ä½ç©å®¶çš„æ­£ç¢ºç‡ã€‚

* **æˆ¿é–“çµæ§‹å»ºè­°ï¼š**

  ```ts
  interface GameRoom {
    room_id: string
    players: Player[]
    current_question: QuizQuestion
    round: number
    status: 'waiting' | 'in_progress' | 'finished'
  }

  interface Player {
    id: string
    name: string
    score: number
    answered: boolean
  }
  ```

* æ”¯æ´ WebSocket / Socket.IO å¯¦ä½œå¤šäººå³æ™‚ç­”é¡Œäº’å‹•ã€‚

* æ’åå¯ä¾ç…§ç­”å°æ•¸é‡ã€ç­”é¡Œæ™‚é–“åŠ æ¬Šæ’åˆ—ï¼Œæ”¯æ´å³æ™‚æ’è¡Œæ¦œï¼š

  ```ts
  interface RankingItem {
    player_id: string
    name: string
    correct_answers: number
    total_time: number // å–®ä½ï¼šç§’
  }
  ```

---

## ğŸ“Š é¡Œç›®è³‡æ–™çµæ§‹ï¼ˆJSON Schemaï¼‰

```ts
interface QuestionBase {
  id: string
  category: string // e.g., "Daily Conversation"
  difficulty: 'easy' | 'medium' | 'hard'
}

interface MultipleChoiceQuestion extends QuestionBase {
  type: 'multiple_choice'
  question: string
  options: string[]
  answer: string
}

interface MultiBlankQuestion extends QuestionBase {
  type: 'multi_blank'
  question: string
  options: string[]
  answers: string[]
}

// Union Type
export type QuizQuestion = MultipleChoiceQuestion | MultiBlankQuestion
```

---

## ğŸ› ï¸ API è¨­è¨ˆå»ºè­°ï¼ˆRESTfulï¼‰

### èªè­‰èˆ‡ç©å®¶ç®¡ç†

* `POST /api/login` - ç©å®¶ç™»å…¥
* `POST /api/register` - è¨»å†Šæ–°ç©å®¶
* `GET /api/me` - å–å¾—ç•¶å‰ç©å®¶è³‡è¨Šï¼ˆéœ€ JWTï¼‰

### é¡Œç›®ç®¡ç†

* `GET /api/questions` - å–å¾—é¡Œç›®åˆ—è¡¨ï¼ˆå¯ä¾åˆ†é¡/é›£åº¦/æ•¸é‡æŸ¥è©¢ï¼‰

  > âœ… åŠ å…¥ query paramsï¼š`?categories=daily,travel&shuffle=true&limit=10`

* `GET /api/questions/:id` - æŸ¥çœ‹æŒ‡å®šé¡Œç›®

* `POST /api/questions` - æ–°å¢é¡Œç›®ï¼ˆç®¡ç†ç”¨é€”ï¼‰

### éŠæˆ²æˆ¿é–“èˆ‡é€²åº¦

* `POST /api/rooms` - å»ºç«‹æ–°éŠæˆ²æˆ¿é–“ï¼Œéœ€é™„ä¸Šé¡Œç›®æ•¸èˆ‡åˆ†é¡
* `GET /api/rooms/:id` - æŸ¥è©¢æˆ¿é–“ç‹€æ…‹èˆ‡ç©å®¶
* `POST /api/rooms/:id/join` - åŠ å…¥éŠæˆ²æˆ¿é–“
* `POST /api/rooms/:id/submit` - æäº¤ç­”æ¡ˆ
* `GET /api/rooms/:id/result` - å–å¾—æœ€çµ‚çµæœèˆ‡æ’å

### WebSocket Event å»ºè­°ï¼ˆä½¿ç”¨ Flask-SocketIO å¯¦ä½œï¼‰

```ts
// client -> server
'submit_answer': { player_id, room_id, answer }
'join_room': { player_id, room_id }

// server -> client
'question': QuizQuestion
'player_update': { player_id, status, score }
'game_result': { rankings: Player[] }
```

---

## ğŸ Python æŠ€è¡“æ£§å»ºè­°ï¼ˆFlask-basedï¼‰

### Backend æŠ€è¡“ï¼š

* Flask
* Flask-SocketIO
* Flask-JWT-Extended
* Flask-SQLAlchemy
* Marshmallow
* Flask-Migrate

### å¥—ä»¶å®‰è£å»ºè­°ï¼š

```bash
pip install flask flask-socketio flask-jwt-extended flask-sqlalchemy flask-migrate marshmallow
```

---

## ğŸ® é¡å¤–åŠŸèƒ½å»ºè­°

* ç©å®¶é¸æ“‡é¡Œç›®åˆ†é¡é€²è¡Œç·´ç¿’ã€‚
* é¡Œç›®å¯æ··åˆåˆ†é¡ä¸¦éš¨æ©Ÿæ’åºã€‚
* æ¯é¡Œå¯é™„èªéŸ³æœ—è®€ã€‚
* é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆèˆ‡è§£é‡‹ã€‚
* ç´¯è¨ˆåˆ†æ•¸èˆ‡é€²åº¦è¿½è¹¤ã€‚

---

ğŸ“Œ è‹¥éœ€æ“´å……é¡Œå‹å¦‚ã€Œå¥å­é‡çµ„ã€æˆ–ã€Œé…å°é¡Œã€å¯é€²ä¸€æ­¥æ“´å±• `type` å­—æ®µã€‚

â˜‘ï¸ æº–å‚™å¥½è³‡æ–™å¾Œå¯ä»¥æ¥è‘—è¨­è¨ˆ API æˆ– UI æµç¨‹ã€‚
